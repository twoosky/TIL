# System Structure & Program Execution 2

## 동기식 입출력 : synchronous I/O
* I/O 요청 후 입출력 작업이 완료된 후에야 제어가 사용자 프로그램에 넘어가는 것
* 프로그램이 디스크에서 어떤 정보를 읽어 오라는 요청을 했을 때, 디스크 입출력이 완료되기까지는 어느 정도의 시간이 소요될 것이다.
* 이때, 2가지 방식으로 동기식 입출력을 구현할 수 있다.

**구현 방법 1**
* I/O(입출력)가 끝날 때까지 interrupt를 기다렸다가, 끝나면, 사용자 프로그램에게 CPU 제어권을 넘긴다.
* 이렇게 되면, 매 시점마다 하나의 I/O만 일어날 수 있으며, CPU가 낭비된다.

**구현 방법 2**
* I/O가 완료될 때까지 해당 프로그램에서 CPU의 제어권을 빼앗는다.
* 입출력 처리를 기다리는 줄에 해당 프로그램을 줄 세운다.
* 그리고, 다른 프로그램에게 CPU 제어권을 넘긴다.

## 비동기식 입출력 : Asynchronous I/O
* I/O가 시작된 후 입출력 작업이 끝나기를 기다리지 않고,
* CPU 제어권을 사용자 프로그램에게 즉시 넘긴다.

## 동기식 입출력 vs 비동기식 입출력

<img src="https://github.com/twoosky/TIL/assets/50009240/81e2070e-d73f-4236-a98c-22d1a8bfba28" width="750" height="400">

**동기식 입출력**
* I/O 요청이 발생하면, 운영체제의 커널로 CPU 제어권이 넘어와 입출력 처리와 관련된 커널코드가 수행된다.
* 이때, 입출력을 호출한 프로세스의 상태를 Blocked 상태로 바꾸어 CPU를 할당받지 못하도록 한다.
* 입출력 연산이 완료되면 I/O device controller가 CPU에게 인터럽트를 발생시켜 입출력이 완료되었음을 알린다.
* 이를 통해 Blocked 상태였던 해당 프로세스는 CPU를 할당받을 수 있는 권한을 얻게된다.

**비동기식 입출력**
* I/O 요청이 발생하면, 운영체제 커널로 I/O 요청 처리를 부탁하고,
* CPU 제어권은 입출력(I/O)를 요청한 프로세스에게 곧바로 다시 주어지며, 다음 명령을 수행한다.
* 입출력 연산이 완료되면 I/O device controller가 CPU에게 인터럽트를 발생시켜 입출력이 완료되었음을 알린다.
